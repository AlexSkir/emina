!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(e,t){$("#list").click(()=>{$("#list").toggleClass("active"),$(".list").toggleClass("hidden")}),$(".container").bind("click",()=>{$("#list").removeClass("active"),$(".list").addClass("hidden")})},function(e,t){$("#customed").on("change",()=>{const e=$("#customed").val();window.state.prevColor=window.state.currentColor,window.state.currentColor=e,$("#prevColor").css({"background-color":$("#currentColor").css("background-color")}),$("#currentColor").css({"background-color":e})}),$("#color-picker").click(()=>{"colorPickerTool"!==window.state.currentTool?($("#color-picker").addClass("hovered"),$("#paint-bucket").removeClass("hovered"),$("#pen").removeClass("hovered"),$(".color").removeClass("hidden"),window.state.currentTool="colorPickerTool",$("#color-picker").focus(),$(document.body).css({cursor:"url(assets/images/colorpicker.png) 4 12, auto"})):"colorPickerTool"===window.state.currentTool&&(window.state.currentTool="",$("#color-picker").removeClass("hovered"),$(".color").addClass("hidden"),$("#color-picker").blur(),$(document.body).css({cursor:"default"}))})},function(e,t){$("#paint-bucket").click(()=>{"paintBucketTool"!==window.state.currentTool?($("#paint-bucket").addClass("hovered"),$("#color-picker").removeClass("hovered"),$("#pen").removeClass("hovered"),$(".color").hasClass("hidden")||$(".color").addClass("hidden"),window.state.currentTool="paintBucketTool",$("#paint-bucket").focus(),$(document.body).css({cursor:"url(assets/images/bucket.png), auto"})):"paintBucketTool"===window.state.currentTool&&(window.state.currentTool="",$("#paint-bucket").removeClass("hovered"),$("#paint-bucket").blur(),$(document.body).css({cursor:"default"}))}),$(".palette-button").hover(e=>{$(e.target).children().addClass("fas-hovered")},e=>{$(e.target).children().removeClass("fas-hovered")})},function(e,t){const o=window.innerWidth-450<window.innerHeight-155?window.innerWidth-450:window.innerHeight-155;$(".canvas").attr("width",o),$(".canvas").attr("height",o),$(window).bind("resize",()=>{const e=window.innerWidth-450<window.innerHeight-155?window.innerWidth-450:window.innerHeight-155;$(".canvas").attr("width",e),$(".canvas").attr("height",e),$("#new-width").text($("#canvas1").width())})},function(e,t){$("#pen").click(()=>{"penTool"!==window.state.currentTool?(window.state.currentTool="penTool",$("#pen").addClass("hovered"),$("#color-picker").removeClass("hovered"),$("#paint-bucket").removeClass("hovered"),$(".color").hasClass("hidden")||$(".color").addClass("hidden"),$("#pen").focus(),$(document.body).css({cursor:"url(assets/images/pen.png) 1 18, auto"})):"penTool"===window.state.currentTool&&(window.state.currentTool="",$("#pen").removeClass("hovered"),$("#pen").blur(),$(document.body).css({cursor:"default"}))})},function(e,t,o){"use strict";o.r(t);o(0),o(1),o(2),o(3);let n,r,a,s,c,i=0;function d(){void 0===i&&(i=0);const e=1e3/window.state.fps*$(".preview").children().length;$(".preview").children().hide(),$(".preview").children()[i]&&($(".preview").children()[i].style.display="block"),(i+=1)===$(".preview").children().length&&(i=0),clearTimeout(n),n=setTimeout(d,e)}function l(e){const t=new Image;$(t).attr("id",`canvasImage${e}`).css({width:"100%"}).attr("src",$(`#canvas${e}`)[0].toDataURL("image/png")),$(`#canvasImage${e}`).length?$(t).insertBefore(`#canvasImage${e}`).next().remove():$(t).appendTo(".preview"),$(".preview").children().length>1&&d()}function u(e){const t=$(`#canvas${window.state.currentCanvas}`).get(0).getContext("2d");r=e.offsetX,a=e.offsetY,t.fillStyle=$("#currentColor").css("background-color"),t.strokeStyle=$("#currentColor").css("background-color");const o=Math.ceil($(`#canvas${window.state.currentCanvas}`).width()/window.state.customWidth),n=Math.floor(e.offsetX/o)*o,i=Math.floor(e.offsetY/o)*o;s>r||c>a?t.fillRect(n,i,o,o):(s+o<r||c+o<a)&&t.fillRect(n,i,o,o)}function w(e){const t=$(`#canvas${window.state.currentCanvas}`).get(0).getContext("2d"),o=Math.ceil($(`#canvas${window.state.currentCanvas}`).width()/window.state.customWidth);t.fillStyle=$("#currentColor").css("background-color"),t.strokeStyle=$("#currentColor").css("background-color"),s=Math.floor(e.offsetX/o)*o,c=Math.floor(e.offsetY/o)*o,t.fillRect(s,c,o,o),$(`#canvas${window.state.currentCanvas}`).mousemove(u)}function v(){const e=$(this).find(".number").text();window.state.currentCanvas=+e,$(".canvas").addClass("hidden"),$(`#canvas${e}`).removeClass("hidden"),$(".activeFrame")&&$(".activeFrame").removeClass("activeFrame"),$(this).toggleClass("activeFrame"),l(+e)}o(4);function h(){const e=$(this).find("span");e.hasClass("hidden")&&(e.removeClass("hidden"),$(this).is("#frame1")&&$("#frame1").find(".removeFrame").addClass("hidden"))}function f(){const e=$(this).find("span");e.hasClass("hidden")||e.addClass("hidden"),$(this).is("#frame1")&&$("#frame1").find(".copyFrame").addClass("hidden")}function m(){for(let e=0;e<$("#frame-list").children().length;e+=1){$("#frame-list").children()[e].id=`frame${e+1}`,$($("#frame-list").children()[e]).find(".number").text(e+1),$(".canvas-area").children()[e].id=`canvas${e+1}`}for(let e=0;e<$(".preview").children().length;e+=1)$(".preview").children()[e].id=`canvasImage${e+1}`}function p(){const e=$(this).parent().find(".number").text();$(`#frame${e}`).remove(),$(`#canvasImage${e}`).remove(),$(`#canvas${e}`).remove(),m(),$(`#frame${+e-1}`).click()}function g(){const e=$(this).parent().find(".number").text();$(`#frame${e}`).clone().insertAfter(`#frame${e}`).hover(h,f).attr("id",`frame${+e+1}`).css({background:"url(assets/images/background.png)","background-repeat":"repeat"}).removeClass("activeFrame").click(v),function(e){const t=$(`#canvas${e}`).clone().attr("id",`canvas${+e+1}`).attr("width",$(`#canvas${e}`).width()).attr("height",$(`#canvas${e}`).width()).insertAfter(`#canvas${e}`),o=$(`#canvas${e}`).get(0).getContext("2d").getImageData(0,0,$(`#canvas${e}`).width(),$(`#canvas${e}`).width());t.get(0).getContext("2d").putImageData(o,0,0)}(e),$(`#frame${+e+1}`).find(".removeFrame").click(p),$(`#frame${+e+1}`).find(".copyFrame").click(g),m();for(let e=0;e<$("#frame-list").children().length;e+=1)l(e+1);const t=$(`#canvas${e}`)[0].toDataURL("image/png");t&&$(`#frame${+e+1}`).css({background:`url(${t})`,"background-size":"contain"}),$(`#canvas${+e-1}`).click()}const C=$("#currentColor").css("background-color"),k=$("#prevColor").css("background-color");window.state={currentTool:"",currentColor:C,prevColor:k,currentCanvas:"",fps:3,customWidth:33},$(document).click(e=>{"paintBucketTool"===window.state.currentTool?($(e.target).hasClass("paint-area")&&$(e.target).css({"background-color":window.state.currentColor}),$(`#canvas${window.state.currentCanvas}`).off("mousemove").off("mousedown")):"colorPickerTool"===window.state.currentTool?($(e.target).is("div")&&$(e.target).css("background-color")!==window.state.currentColor&&(window.state.prevColor=window.state.currentColor,window.state.currentColor=$(e.target).css("background-color"),$("#currentColor").css({"background-color":window.state.currentColor}),$("#prevColor").css({"background-color":window.state.prevColor})),$(".canvas").off("mousemove").off("mousedown")):"penTool"===window.state.currentTool&&($(`#canvas${window.state.currentCanvas}`).unbind("mousedown").unbind("mouseup"),$(`#canvas${window.state.currentCanvas}`).mousedown(w),$(`#canvas${window.state.currentCanvas}`).mouseup(()=>{$(`#canvas${window.state.currentCanvas}`).off("mousemove");const e=$(`#canvas${window.state.currentCanvas}`)[0].toDataURL("image/png");$(`#frame${window.state.currentCanvas}`).css({background:`url(${e})`,"background-size":"contain"}),setTimeout(()=>{l(window.state.currentCanvas)},500)}))}),$(".frame").hover(h,f),$(".addNewFrame").click(function(){const e=$("#frame-list").children().length+1;$(".frame").first().clone().appendTo("#frame-list").hover(h,f).attr("id",`frame${e}`).css({background:"url(assets/images/background.png)","background-repeat":"repeat"}).removeClass("activeFrame").click(v),$(".number").last().text(e),function(e){const t=window.innerWidth-450<window.innerHeight-155?window.innerWidth-450:window.innerHeight-155;$("<canvas/>",{class:"canvas hidden",id:`canvas${e}`}).attr("width",t).attr("height",t).appendTo(".canvas-area")}(e),$(`#frame${e}`).find(".removeFrame").click(p),$(`#frame${e}`).find(".copyFrame").click(g)}),$(".removeFrame").click(p),$(".copyFrame").click(g),$(document).ready(()=>{$("#frame1").click(v).click(),$("#current-width").text(window.state.customWidth),$("#current-height").text(window.state.customWidth),$("#new-width").text($("#canvas1").width())}),$("#fps-bar").on("change",()=>{window.state.fps=$("#fps-bar").val(),$("#display-fps").text(`${window.state.fps} FPS`)}),$("#resize-button").click(()=>{$("#resize-input").val()&&(window.state.customWidth=$("#resize-input").val(),$("#current-width").text(window.state.customWidth),$("#current-height").text(window.state.customWidth))}),$("#preview-area").hover(()=>{$("#preview-open").hasClass("hidden")&&$("#preview-open").removeClass("hidden")},()=>{$("#preview-open").hasClass("hidden")||$("#preview-open").addClass("hidden")}),$("#preview-open").click(function(){const e=window.open("about:blank","preview","width=300,height=300"),t=$(".preview").clone().appendTo(e.document.body).css({display:"flex","justify-content":"center","align-items":"center",height:"100%"});$(e.document.body).css({display:"flex","justify-content":"center","align-items":"center"}),$(e.document).ready(()=>{i=0,function o(){const n=1e3/window.state.fps*t.children().length;t.children().hide(),t.children()[i]&&(t.children()[i].style.display="block"),(i+=1)===t.children().length&&(i=0);const r=setTimeout(o,n);e.closed&&clearTimeout(r)}()})})}]);