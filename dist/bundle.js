!function(e){var o={};function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(n,r,function(o){return e[o]}.bind(null,r));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=5)}([function(e,o){$("#list").click(()=>{$("#list").toggleClass("active"),$(".list").toggleClass("hidden")}),$(".container").bind("click",()=>{$("#list").removeClass("active"),$(".list").addClass("hidden")})},function(e,o){$("#customed").on("change",()=>{const e=$("#customed").val();window.state.prevColor=window.state.currentColor,window.state.currentColor=e,$("#prevColor").css({"background-color":$("#currentColor").css("background-color")}),$("#currentColor").css({"background-color":e})}),$("#color-picker").click(()=>{"colorPickerTool"!==window.state.currentTool?($("#color-picker").addClass("hovered"),$("#paint-bucket").removeClass("hovered"),$("#pen").removeClass("hovered"),$(".color").removeClass("hidden"),window.state.currentTool="colorPickerTool",$("#color-picker").focus(),$(document.body).css({cursor:"url(assets/images/colorpicker.png) 4 12, auto"})):"colorPickerTool"===window.state.currentTool&&(window.state.currentTool="",$("#color-picker").removeClass("hovered"),$(".color").addClass("hidden"),$("#color-picker").blur(),$(document.body).css({cursor:"default"}))})},function(e,o){$("#paint-bucket").click(()=>{"paintBucketTool"!==window.state.currentTool?($("#paint-bucket").addClass("hovered"),$("#color-picker").removeClass("hovered"),$("#pen").removeClass("hovered"),$(".color").hasClass("hidden")||$(".color").addClass("hidden"),window.state.currentTool="paintBucketTool",$("#paint-bucket").focus(),$(document.body).css({cursor:"url(assets/images/bucket.png), auto"})):"paintBucketTool"===window.state.currentTool&&(window.state.currentTool="",$("#paint-bucket").removeClass("hovered"),$("#paint-bucket").blur(),$(document.body).css({cursor:"default"}))}),$(".palette-button").hover(e=>{$(e.target).children().addClass("fas-hovered")},e=>{$(e.target).children().removeClass("fas-hovered")})},function(e,o){const t=window.innerWidth-450<window.innerHeight-155?window.innerWidth-450:window.innerHeight-155;$(".canvas").attr("width",t),$(".canvas").attr("height",t),$(window).bind("resize",()=>{const e=window.innerWidth-450<window.innerHeight-155?window.innerWidth-450:window.innerHeight-155;$(".canvas").attr("width",e),$(".canvas").attr("height",e)})},function(e,o){$("#pen").click(()=>{"penTool"!==window.state.currentTool?(window.state.currentTool="penTool",$("#pen").addClass("hovered"),$("#color-picker").removeClass("hovered"),$("#paint-bucket").removeClass("hovered"),$(".color").hasClass("hidden")||$(".color").addClass("hidden"),$("#pen").focus(),$(document.body).css({cursor:"url(assets/images/pen.png) 1 18, auto"})):"penTool"===window.state.currentTool&&(window.state.currentTool="",$("#pen").removeClass("hovered"),$("#pen").blur(),$(document.body).css({cursor:"default"}))})},function(e,o,t){"use strict";t.r(o);t(0),t(1),t(2),t(3);let n,r,a,s,c,i=0;function d(){void 0===i&&(i=0);const e=1e3/window.state.fps*$(".preview").children().length;$(".preview").children().hide(),$(".preview").children()[i]&&($(".preview").children()[i].style.display="block"),(i+=1)===$(".preview").children().length&&(i=0),clearTimeout(n),n=setTimeout(d,e)}function l(e){const o=new Image;$(o).attr("id",`canvasImage${e}`).css({width:"100%"}).attr("src",$(`#canvas${e}`)[0].toDataURL("image/png")),$(`#canvasImage${e}`).length?$(o).insertBefore(`#canvasImage${e}`).next().remove():$(o).appendTo(".preview"),$(".preview").children().length>1&&d()}function u(e){const o=$(`#canvas${window.state.currentCanvas}`).get(0).getContext("2d");r=e.offsetX,a=e.offsetY,o.fillStyle=$("#currentColor").css("background-color"),o.strokeStyle=$("#currentColor").css("background-color");const t=Math.ceil($(`#canvas${window.state.currentCanvas}`).width()/33),n=Math.floor(e.offsetX/t)*t,i=Math.floor(e.offsetY/t)*t;s>r||c>a?o.fillRect(n,i,t,t):(s+t<r||c+t<a)&&o.fillRect(n,i,t,t)}function v(e){const o=$(`#canvas${window.state.currentCanvas}`).get(0).getContext("2d"),t=Math.ceil($(`#canvas${window.state.currentCanvas}`).width()/33);o.fillStyle=$("#currentColor").css("background-color"),o.strokeStyle=$("#currentColor").css("background-color"),s=Math.floor(e.offsetX/t)*t,c=Math.floor(e.offsetY/t)*t,o.fillRect(s,c,t,t),$(`#canvas${window.state.currentCanvas}`).mousemove(u)}function w(){const e=$(this).find(".number").text();window.state.currentCanvas=+e,$(".canvas").addClass("hidden"),$(`#canvas${e}`).removeClass("hidden"),$(".activeFrame")&&$(".activeFrame").removeClass("activeFrame"),$(this).toggleClass("activeFrame"),l(+e)}t(4);function f(){const e=$(this).find("span");e.hasClass("hidden")&&(e.removeClass("hidden"),$(this).is("#frame1")&&$("#frame1").find(".removeFrame").addClass("hidden"))}function m(){const e=$(this).find("span");e.hasClass("hidden")||e.addClass("hidden"),$(this).is("#frame1")&&$("#frame1").find(".copyFrame").addClass("hidden")}function h(){for(let e=0;e<$("#frame-list").children().length;e+=1){$("#frame-list").children()[e].id=`frame${e+1}`,$($("#frame-list").children()[e]).find(".number").text(e+1),$(".canvas-area").children()[e].id=`canvas${e+1}`}for(let e=0;e<$(".preview").children().length;e+=1)$(".preview").children()[e].id=`canvasImage${e+1}`}function p(){const e=$(this).parent().find(".number").text();$(`#frame${e}`).remove(),$(`#canvasImage${e}`).remove(),$(`#canvas${e}`).remove(),h(),$(`#frame${+e-1}`).click()}function g(){const e=$(this).parent().find(".number").text();$(`#frame${e}`).clone().insertAfter(`#frame${e}`).hover(f,m).attr("id",`frame${+e+1}`).css({background:"url(assets/images/background.png)","background-repeat":"repeat"}).removeClass("activeFrame").click(w),function(e){const o=$(`#canvas${e}`).clone().attr("id",`canvas${+e+1}`).attr("width",$(`#canvas${e}`).width()).attr("height",$(`#canvas${e}`).width()).insertAfter(`#canvas${e}`),t=$(`#canvas${e}`).get(0).getContext("2d").getImageData(0,0,$(`#canvas${e}`).width(),$(`#canvas${e}`).width());o.get(0).getContext("2d").putImageData(t,0,0)}(e),$(`#frame${+e+1}`).find(".removeFrame").click(p),$(`#frame${+e+1}`).find(".copyFrame").click(g),h();for(let e=0;e<$("#frame-list").children().length;e+=1)l(e+1);const o=$(`#canvas${e}`)[0].toDataURL("image/png");o&&$(`#frame${+e+1}`).css({background:`url(${o})`,"background-size":"contain"}),$(`#canvas${+e-1}`).click()}const C=$("#currentColor").css("background-color"),k=$("#prevColor").css("background-color");window.state={currentTool:"",currentColor:C,prevColor:k,currentCanvas:"",fps:3},$(document).click(e=>{"paintBucketTool"===window.state.currentTool?($(e.target).hasClass("paint-area")&&$(e.target).css({"background-color":window.state.currentColor}),$(`#canvas${window.state.currentCanvas}`).off("mousemove").off("mousedown")):"colorPickerTool"===window.state.currentTool?($(e.target).is("div")&&$(e.target).css("background-color")!==window.state.currentColor&&(window.state.prevColor=window.state.currentColor,window.state.currentColor=$(e.target).css("background-color"),$("#currentColor").css({"background-color":window.state.currentColor}),$("#prevColor").css({"background-color":window.state.prevColor})),$(".canvas").off("mousemove").off("mousedown")):"penTool"===window.state.currentTool&&($(`#canvas${window.state.currentCanvas}`).unbind("mousedown").unbind("mouseup"),$(`#canvas${window.state.currentCanvas}`).mousedown(v),$(`#canvas${window.state.currentCanvas}`).mouseup(()=>{$(`#canvas${window.state.currentCanvas}`).off("mousemove");const e=$(`#canvas${window.state.currentCanvas}`)[0].toDataURL("image/png");$(`#frame${window.state.currentCanvas}`).css({background:`url(${e})`,"background-size":"contain"}),setTimeout(()=>{l(window.state.currentCanvas)},500)}))}),$(".frame").hover(f,m),$(".addNewFrame").click(function(){const e=$("#frame-list").children().length+1;$(".frame").first().clone().appendTo("#frame-list").hover(f,m).attr("id",`frame${e}`).css({background:"url(assets/images/background.png)","background-repeat":"repeat"}).removeClass("activeFrame").click(w),$(".number").last().text(e),function(e){const o=window.innerWidth-450<window.innerHeight-155?window.innerWidth-450:window.innerHeight-155;$("<canvas/>",{class:"canvas hidden",id:`canvas${e}`}).attr("width",o).attr("height",o).appendTo(".canvas-area")}(e),$(`#frame${e}`).find(".removeFrame").click(p),$(`#frame${e}`).find(".copyFrame").click(g)}),$(".removeFrame").click(p),$(".copyFrame").click(g),$(document).ready(()=>{$("#frame1").click(w).click()}),$("#fps-bar").on("change",()=>{window.state.fps=$("#fps-bar").val(),$("#display-fps").text(`${window.state.fps} FPS`)})}]);